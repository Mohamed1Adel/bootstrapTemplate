;/*FB_PKG_DELIM*/

__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCreateOfflineThreadingID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return c.i64.neq(a[1],f)?c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[f,f],d[3]=e[0],d[4]=e[1],e):(c=b.item,e=[a[1],c.authorityLevel],d[3]=e[0],d[4]=e[1],e)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]):c.resolve((b=[f,f],d[0]=b[0],d[1]=b[1],b))},function(e){return c.i64.neq(d[0],f)?c.seq([function(e){return c.i64.neq(d[1],f)?c.i64.gt(a[2],d[1])?c.seq([function(b){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[2]})})},function(a){return d[3]=new c.Map(),d[3].set("thread_fbid",d[0]),d[3].set("force_upsert",!1),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",[0,95]),d[3].set("metadata_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,209],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):c.resolve():c.resolve()},function(a){return d[2]=d[0]}]):c.seq([function(e){return c.i64.neq(a[1],f)?c.seq([function(e){return c.i64.neq(a[2],[0,20])?(d[7]=new c.Map(),d[7].set("thread_fbid",a[1]),d[7].set("force_upsert",!1),d[7].set("use_open_messenger_transport",!1),d[7].set("sync_group",[0,95]),d[7].set("metadata_only",!1),d[8]=d[7].get("thread_fbid"),d[7],d[9]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[8]),[0,209],d[9],f,f,[0,0],[0,0],f,f,[0,0])):c.resolve()},function(b){return d[3]=a[1]}]):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),c.i64.of_float(Date.now())).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[3]=d[7]}])},function(b){return d[4]=[64,1083495710],d[5]=[0,0],d[6]=[0,0],c.fe(c.ftr(c.db.table(9).fetch([[[d[3]]]]),function(b){return c.i64.eq(b.threadKey,d[3])&&c.i64.lt(b.authorityLevel,a[2])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[3],mailboxType:[0,4096],threadType:a[0],folderName:"inbox",lastActivityTimestampMs:[-1,4294967295],lastReadWatermarkTimestampMs:[-1,4294967295],removeWatermarkTimestampMs:[-1,4294967295],ongoingCallState:[0,0],parentThreadKey:[0,0],authorityLevel:a[2],capabilities:d[4],capabilities2:d[5],capabilities3:d[6],unsendLimitMs:[-1,4294967295],syncGroup:[0,95]})},function(a){return d[2]=d[3]}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("PolarisCommentText_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisCommentText_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"user.pk"},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},action:"THROW",path:"user"},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisInlineCommentText_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisInlineCommentText_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"user.pk"},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},action:"THROW",path:"user"},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisLikeButtonLikeMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"},{defaultValue:null,kind:"LocalArgument",name:"data"}],b=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"},{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__comment_id__comment_like",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisLikeButtonLikeMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisLikeButtonLikeMutation",selections:b},params:{id:"18012550045434405",metadata:{},name:"PolarisLikeButtonLikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisLikeButtonUnlikeMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"}],b=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__comment_id__comment_unlike",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisLikeButtonUnlikeMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisLikeButtonUnlikeMutation",selections:b},params:{id:"17930126429409087",metadata:{},name:"PolarisLikeButtonUnlikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisLikeButton_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisLikeButton_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentsPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"last"},{defaultValue:null,kind:"LocalArgument",name:"media_id"}],b=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"}],c={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostCommentsPaginationQuery",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostCommentsPaginationQuery",selections:[{alias:null,args:b,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:b,filters:["data","media_id"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:"17853339245841416",metadata:{},name:"PolarisPostCommentsPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostAllCommentsFragment_items_connection.graphql",["PolarisPostCommentsPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["xdt_api__v1__media__media_id__comments__connection"];return{argumentDefinitions:[{kind:"RootArgument",name:"after"},{kind:"RootArgument",name:"before"},{kind:"RootArgument",name:"first"},{kind:"RootArgument",name:"last"},{kind:"RootArgument",name:"media_id"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:a}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:a},fragmentPathInResult:[],operation:b("PolarisPostCommentsPaginationQuery.graphql")}},name:"PolarisPostAllCommentsFragment_items_connection",selections:[{alias:"xdt_api__v1__media__media_id__comments__connection",args:[{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"__PolarisPostComments__xdt_api__v1__media__media_id__comments__connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostComment_comment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostChildCommentsQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},b={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"first"},d={defaultValue:null,kind:"LocalArgument",name:"is_chronological"},e={defaultValue:null,kind:"LocalArgument",name:"last"},f={defaultValue:null,kind:"LocalArgument",name:"media_id"},g={defaultValue:null,kind:"LocalArgument",name:"parent_comment_id"},h=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"is_chronological",variableName:"is_chronological"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"parent_comment_id",variableName:"parent_comment_id"}],i={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g],kind:"Fragment",metadata:null,name:"PolarisPostChildCommentsQuery",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostChildComments_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,b,f,g,d,c,e],kind:"Operation",name:"PolarisPostChildCommentsQuery",selections:[{alias:null,args:h,concreteType:"XDTGetChildCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetChildCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:h,filters:["media_id","parent_comment_id","is_chronological"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection"}]},params:{id:"17962212689121711",metadata:{},name:"PolarisPostChildCommentsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PolarisPostChildComments_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostChildComments_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentsChildrenPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"is_chronological"},{defaultValue:null,kind:"LocalArgument",name:"last"},{defaultValue:null,kind:"LocalArgument",name:"media_id"},{defaultValue:null,kind:"LocalArgument",name:"parent_comment_id"}],b=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"is_chronological",variableName:"is_chronological"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"parent_comment_id",variableName:"parent_comment_id"}],c={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostCommentsChildrenPaginationQuery",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostChildComments_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostCommentsChildrenPaginationQuery",selections:[{alias:null,args:b,concreteType:"XDTGetChildCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetChildCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:b,filters:["media_id","parent_comment_id","is_chronological"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection"}]},params:{id:"18334269019045530",metadata:{},name:"PolarisPostCommentsChildrenPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostChildComments_items_connection.graphql",["PolarisPostCommentsChildrenPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection"];return{argumentDefinitions:[{kind:"RootArgument",name:"after"},{kind:"RootArgument",name:"before"},{kind:"RootArgument",name:"first"},{kind:"RootArgument",name:"is_chronological"},{kind:"RootArgument",name:"last"},{kind:"RootArgument",name:"media_id"},{kind:"RootArgument",name:"parent_comment_id"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:a}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:a},fragmentPathInResult:[],operation:b("PolarisPostCommentsChildrenPaginationQuery.graphql")}},name:"PolarisPostChildComments_items_connection",selections:[{alias:"xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",args:[{kind:"Variable",name:"is_chronological",variableName:"is_chronological"},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"parent_comment_id",variableName:"parent_comment_id"}],concreteType:"XDTGetChildCommentsResponseConnection",kind:"LinkedField",name:"__PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetChildCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostComment_comment"},{args:null,kind:"FragmentSpread",name:"PolarisLikeButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentHeader_comment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCommentAvatar_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentAvatar_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentContent_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentContent_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisCommentText_comment"},{args:null,kind:"FragmentSpread",name:"PolarisInlineCommentText_comment"}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentInputRevampedMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"connections"},b={defaultValue:null,kind:"LocalArgument",name:"media_id"},c={defaultValue:null,kind:"LocalArgument",name:"request_data"},d=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],e={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.created_at"},{kind:"RequiredField",field:f,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.pk"},{kind:"RequiredField",field:g,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.text"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j],storageKey:null},action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.user"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b],kind:"Operation",name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[e,f,g,{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"prependNode",key:"",kind:"LinkedHandle",name:"node",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"},{kind:"Literal",name:"edgeTypeName",value:"XDTGetCommentsResponseEdge"}]}],storageKey:null}]},params:{id:"18327748888043932",metadata:{},name:"PolarisPostCommentInputRevampedMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisPostComment_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostComment_comment",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"user.pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"user.username"},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null}],storageKey:null},action:"THROW",path:"user"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentAvatar_comment"},{args:null,kind:"FragmentSpread",name:"PolarisLikeButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostChildComments_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentHeader_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentContent_comment"}],type:"XDTCommentDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCommentsContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},b={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"first"},d={defaultValue:null,kind:"LocalArgument",name:"last"},e={defaultValue:null,kind:"LocalArgument",name:"media_id"},f=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"}],g={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisPostCommentsContainerQuery",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,b,e,c,d],kind:"Operation",name:"PolarisPostCommentsContainerQuery",selections:[{alias:null,args:f,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,concreteType:"XDTUser",kind:"LinkedField",name:"user",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:f,filters:["data","media_id"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:"17906375261677062",metadata:{},name:"PolarisPostCommentsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("usePolarisApproveRestrictedCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"}],b=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"}],concreteType:"XDTApproveRestrictedCommentResponse",kind:"LinkedField",name:"xdt_api__v1__restrict_action__approve_restricted_comment",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisApproveRestrictedCommentMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisApproveRestrictedCommentMutation",selections:b},params:{id:"17947258220504485",metadata:{},name:"usePolarisApproveRestrictedCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisPostDeleteCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"},{defaultValue:null,kind:"LocalArgument",name:"media_id"}],b=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"},{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_web__comments__media_id__delete_queryable__comment_id",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisPostDeleteCommentMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisPostDeleteCommentMutation",selections:b},params:{id:"17982458209708071",metadata:{},name:"usePolarisPostDeleteCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MAWImageUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h="image/jpeg";e="image/webp";f=100;function i(a,d){d===void 0&&(d=!0);var e;return new(b("Promise"))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function j(a,c,d){d===void 0&&(d=!1);var e=40*1024;if(a.toBlob)return new(b("Promise"))(function(b){a.toBlob(b,c)}).then(function(f){return d&&f.size>=e?new(b("Promise"))(function(b){a.toBlob(b,c,e/f.size)}):f});else return b("Promise").resolve(window.dataURLtoBlob(a.toDataURL(c))).then(function(f){return d&&f.size>=e?b("Promise").resolve(window.dataURLtoBlob(a.toDataURL(c,e/f.size))):f})}function a(a,d){return i(a).then(function(a){var b=document.createElement("canvas");b.width=a.naturalWidth;b.height=a.naturalHeight;var c=b.getContext("2d");c.drawImage(a,0,0);return j(b,d).then(function(b){return{blob:b,height:a.naturalHeight,width:a.naturalWidth}})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function d(a,b){return i(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=l(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,i=c.height;k(c);f.drawImage(a,0,0,g,i);return j(c,h,!0).then(function(a){return a.arrayBuffer().then(function(a){return{height:i,jpegThumbnail:a,width:g}})})})}function k(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function l(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.max(a,1),width:Math.max(b,1)}}g.TYPE_JPEG=h;g.TYPE_WEBP=e;g.IMG_THUMB_MAX_EDGE=f;g.canvasToBlob=j;g.urlToFile=a;g.urlToThumbnail=d;g.boundHeightWidth=l}),98);
__d("MAWImagePreProcess",["MAWImageUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";function e(e,f){var g=a.URL.createObjectURL(e),h=e.name;return d("MAWImageUtils").urlToFile(g,f).then(function(a){a=a.blob;return new File([a],h,{type:f})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function f(e){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToFile(e,d("MAWImageUtils").TYPE_JPEG).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function h(e,f){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToThumbnail(e,f)["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}g.imageTranscode=e;g.getImageSpec=f;g.getJpegThumbnailInfo=h}),98);
__d("MAWCreateOneToOneThread.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSTransaction.bs","LSVerifyE2EEMetadataThreadExistsV2","MAWBackendBridge.bs","MAWBridge.bs","MAWGating","MAWJidUtils.bs","MAWJids","MAWJob.bs","MessagingThreadType.bs","Promise","ReQL.bs","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_curry","bs_int64","bs_js_null_undefined"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return d("MAWBridge.bs").createApi(d("MAWBackendBridge.bs").namespace,d("MAWBackendBridge.bs").CreateThread.$$event,a)}function a(a,e,f,g){var i=d("FBID.bs").ofStringExn(c("bs_int64").to_string(e));g=f!==void 0||!d("MAWGating").isOccamadillo()?b("Promise").resolve(f):d("LSTransaction.bs").run(a,function(a){return c("LSVerifyE2EEMetadataThreadExistsV2")(d("MessagingThreadType.bs").secureMessageOverWaOneToOne,void 0,d("LSAuthorityLevel.bs").optimistic,d("LS.bs").make(a))},"readWrite").then(function(a){return c("bs_int64").to_string(a[0])});return g.then(function(e){var f=c("bs_curry")._1(h({contactFbid:i,offlineThreadingId:c("bs_js_null_undefined").fromOption(e)}).sendAndReceive).then(function(f){var g=f.jid,h=f.chatId,i=f.created;if(d("MAWGating").isOccamadillo())return d("LSTransaction.bs").run(a,function(a){var f=c("bs_caml_format").caml_int64_of_string(d("MAWJidUtils.bs").switchOnChatJidType(g,{group:d("MAWJids").groupIdFromJid,user:d("MAWJids").userIdFromJid}));return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(a.table("mi_act_mapping_table").index("jid")),{hd:f,tl:0})).then(function(d){if(d!==void 0)return b("Promise").resolve({chatId:c("bs_caml_int64").to_int32(d.clientThreadPk),created:i,jid:g});else return a.table("mi_act_mapping_table").put({clientThreadPk:c("bs_caml_int64").of_int32(h),jid:f,serverThreadKey:c("bs_belt_Option").getExn(c("bs_belt_Option").map(e,c("bs_caml_format").caml_int64_of_string))}).then(function(a){return{chatId:h,created:i,jid:g}})})},"readWrite");else return b("Promise").resolve({chatId:h,created:i,jid:g})}),g=d("MAWJob.bs").getDevices.waitUntilPersisted(new Set().add(d("MAWJids").toUserJid(i)),"creating-1-1-thread",void 0,{priority:"UI_ACTION"});return b("Promise").all([f,g])}).then(function(a){return a[0]})}e=a;g.call=e}),98);
__d("MAWGetEphemeralSettings.bs",["MAWBackendBridge.bs","MAWGating","MAWJidUtils.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("MAWGating").isEphemeralMessagesEnabled()&&d("MAWJidUtils.bs").isOneToOneThreadJid(a))return d("MAWBackendBridge.bs").getEphemeralSettings({threadId:a}).sendAndReceive().then(function(a){if(a==null)return b("Promise").resolve();else return a});else return b("Promise").resolve()}g.use=a}),98);
__d("IGDSXPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"21",x2:"3",y1:"3",y2:"21"}),h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"21",x2:"3",y1:"21",y2:"3"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSXOutlineIcon",["IGDSXPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSXPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSDialogHeader.react",["fbt","IGDSChevronIcon","IGDSIconButton.react","IGDSXOutlineIcon","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=h._("Back"),k=h._("Close");function a(a){var b=a.children,d=a.endAdornment,e=a.onBack,f=a.onClose,g=a.size;g=g===void 0?"default":g;var h=a.startAdornment;a=a.truncateText;return i.jsxs("div",{className:"x18oi6gw x78zum5 x1q0g3np"+(g==="large"?" xe98eky":" x11x8uw5"),children:[i.jsx("div",{className:"x6s0dn4 x1c4vz4f x2lah0s x19l4sor x78zum5",children:h!=null?h:e&&i.jsx(c("IGDSIconButton.react"),{onClick:e,children:i.jsx(c("IGDSChevronIcon"),{alt:j,direction:"left"})})}),i.jsx("h1",{className:"x6s0dn4 x78zum5 x1iyjqo2 xwhw2v2 xl56j7k x2b8uid"+((g==="large"?" x1ms8i2q x1ehagqq":" xl565be x5dp1im")+(a===!0?" x6ikm8r x10wlt62 xlyipyv xuxw1ft":""+(g==="large"?"":""))),children:b}),i.jsx("div",{className:"x6s0dn4 x1c4vz4f x2lah0s x19l4sor x78zum5",children:f?i.jsx(c("IGDSIconButton.react"),{onClick:f,children:i.jsx(c("IGDSXOutlineIcon"),{alt:k})}):d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentInputRevamped.react",["CometRelay","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisInteractionsLogger","PolarisPendingCommentState","PolarisPostCommentInput.react","PolarisPostCommentInputRevampedMutation.graphql","PolarisPostDetailsSectionProvider.react","PolarisReactRedux","Promise","react","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisPostCommentInputRevampedMutation.graphql");function a(a){var e=a.postID,f=a.ownerID,g=a.adInfo,h=a.isVideo,k=a.isSidecar,l=a.viewerProfilePicture;a=a.isLoggedIn;var m=d("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),n=c("usePolarisViewer")(),o=d("PolarisReactRedux").useDispatch(),p=c("usePolarisSelector")(function(a){return a.pendingComments.get(e,d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT)}),q=d("CometRelay").useMutation(j),r=q[0];q=function a(c,g,i,j){var l;o({postId:e,type:"COMMIT_PENDING_COMMENT_REQUESTED"});var q=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:e});l=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",{media_id:e,parent_comment_id:(l=i)!=null?l:g});r({variables:{request_data:{comment_text:c,replied_to_comment_id:g},media_id:e,connections:[g==null?q:l]},updater:function(a){var b;if(g==null)return;a=a.get("XDTCommentDict:"+g);b=(b=a==null?void 0:a.getValue("child_comment_count"))!=null?b:0;a==null?void 0:a.setValue(Number(b)+1,"child_comment_count")},onCompleted:function(a){var b;o({type:"COMMIT_PENDING_COMMENT_SUCCEEDED",postId:e});var c=d("PolarisInteractionsLogger").MEDIA_TYPE.IMAGE;k&&(c=d("PolarisInteractionsLogger").MEDIA_TYPE.CAROUSEL_V2);h&&(c=d("PolarisInteractionsLogger").MEDIA_TYPE.VIDEO);b={commentAuthorId:(b=n==null?void 0:n.id)!=null?b:"",commentId:a.xdt_web__comments__media_id__add_queryable.node.pk,containerModule:m,mediaId:e,mediaAuthorId:f,mediaType:c,parentCommentId:p.repliedToCommentId,parentCommentAuthorId:p.repliedToCommentAuthorId};j!=null?d("PolarisAdsEngagementLogger").logAdComment(b,j):d("PolarisEngagementLogger").logOrganicComment(b)},onError:function(){o({postId:e,toast:{text:d("PolarisGenericStrings").COMMENT_CREATION_FAILURE_TEXT,actionText:d("PolarisGenericStrings").COMMENT_CREATION_RETRY_TEXT,actionHandler:function(){return a(c,g,i,j)}},type:"COMMIT_PENDING_COMMENT_FAILED"})}});return b("Promise").resolve()};return i.jsx(c("PolarisPostCommentInput.react"),{adInfo:g,analyticsContext:m,canViewerProvideFeedback:!0,forceTextareaAutosize:!1,hasPostButton:!0,hasRichCommentInput:!0,id:e,inModal:!1,isLoggedIn:a,isRevampVersion:!0,isVideo:h,onCommentSubmitOverride:q,ownerId:f,viewerProfilePicture:(g=l)!=null?g:""})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostChildComments.next",["BaseButton.react","CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSSpinner.react","IGDSText.react","PolarisGenericStrings","PolarisPostChildCommentsQuery.graphql","PolarisPostChildComments_comment.graphql","PolarisPostChildComments_items_connection.graphql","PolarisPostComment.next","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("react"),l={viewRepliesLine:{width:"x17z2i9w",marginEnd:"xq8finb",borderBottom:"x13zqm9e",$$css:!0},childContainer:{flexShrink:"x2lah0s",width:"xh8yej3",$$css:!0},secondaryTextButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0}},m=h!==void 0?h:h=b("PolarisPostChildComments_comment.graphql"),n=i!==void 0?i:i=b("PolarisPostChildCommentsQuery.graphql"),o=j!==void 0?j:j=b("PolarisPostChildComments_items_connection.graphql");function p(a){var b=a.childCommentsQuery,e=a.mediaId,f=a.mediaOwnerId;a=d("CometRelay").usePaginationFragment(o,b);b=a.data;var g=a.hasNext,h=a.isLoadingNext,i=a.loadNext,j=function(){i(5)};return k.jsxs(k.Fragment,{children:[k.jsx("ul",{className:"x2lah0s xh8yej3",children:(a=b.xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection.edges)==null?void 0:a.map(function(a){a=a.node;return k.jsx(c("PolarisPostComment.next"),{mediaId:e,mediaOwnerId:f,queryReference:a},a.pk)})}),h?k.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:3,marginTop:3,children:k.jsx(c("IGDSSpinner.react"),{size:"small"})}):null,g&&!h?k.jsx(c("BaseButton.react"),{onClick:function(){return j()},xstyle:l.secondaryTextButton,children:k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginTop:2,children:[k.jsx("div",{className:"x17z2i9w xq8finb x13zqm9e"}),k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:d("PolarisGenericStrings").SHOW_MORE_REPLIES_TEXT})]})}):null]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.parentCommentQueryRef,c=a.mediaId;a=a.mediaOwnerId;b=d("CometRelay").useFragment(m,b);b=(b=b==null?void 0:b.pk)!=null?b:"0";b=d("CometRelay").useLazyLoadQuery(n,{media_id:c,parent_comment_id:b});return k.jsx(p,{childCommentsQuery:b,mediaId:c,mediaOwnerId:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.children;return k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",paddingY:2,children:[k.jsx("div",{className:"x17z2i9w xq8finb x13zqm9e"}),k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",children:a})]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.parentCommentQueryRef,e=a.mediaId,f=a.mediaOwnerId,g=a.showReplies,h=a.setShowReplies;a=d("CometRelay").useFragment(m,b);return g?k.jsxs(c("CometPlaceholder.react"),{fallback:k.jsxs(c("IGDSBox.react"),{direction:"row",children:[k.jsx(r,{children:d("PolarisGenericStrings").VIEW_ALL_REPLIES_TEXT(((g=a.child_comment_count)==null?void 0:g.toString())||"0")}),k.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginStart:2,children:k.jsx(c("IGDSSpinner.react"),{size:"small"})})]}),children:[k.jsx(c("BaseButton.react"),{onClick:function(){return h(!1)},xstyle:l.secondaryTextButton,children:k.jsx(r,{children:d("PolarisGenericStrings").HIDE_ALL_REPLIES_TEXT})}),k.jsx(q,{mediaId:e,mediaOwnerId:f,parentCommentQueryRef:b})]}):k.jsx(c("BaseButton.react"),{onClick:function(){return h(!0)},xstyle:l.secondaryTextButton,children:k.jsx(r,{children:d("PolarisGenericStrings").VIEW_ALL_REPLIES_TEXT(((g=a.child_comment_count)==null?void 0:g.toString())||"0")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikeButton.next",["BaseButton.react","CometRelay","IGDSBox.react","IGDSText.react","PolarisBigNumber.react","PolarisIGCoreHeartFilledIcon","PolarisIGCoreHeartPanoOutlineIcon","PolarisIGCoreSVGIconButton","PolarisInteractionsStrings","PolarisLikeButtonLikeMutation.graphql","PolarisLikeButtonUnlikeMutation.graphql","PolarisLikeButton_comment.graphql","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("react"),l={small:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",cursor:"x1ypdohk",lineHeight:"x15bjb6t",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},animation:{animationDuration:"x1ykxiw6",animationTimingFunction:"x4hg4is",transform:"x3oybdh",$$css:!0}};function m(a){var b=a.color;b=b===void 0?"ig-primary-icon":b;var e=a.handleClick,f=a.isLiked,g=a.likeChangeCount,h=a.onLikeCountClick,i=a.likeCount,j=a.padding,m=a.shadow;m=m===void 0?!1:m;a=a.size;var n=function(){h!=null&&h()};return k.jsxs(c("IGDSBox.react"),{children:[k.jsx(c("PolarisIGCoreSVGIconButton"),{hover:f?null:k.jsx(c("PolarisIGCoreHeartPanoOutlineIcon"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:"ig-secondary-icon",shadow:m,size:a}),onClick:e,padding:j,children:k.jsx("span",{className:c("stylex")(l.animation&&g>0),children:f?k.jsx(c("PolarisIGCoreHeartFilledIcon"),{alt:d("PolarisInteractionsStrings").UNLIKE_TEXT,color:"ig-badge",shadow:m,size:a}):k.jsx(c("PolarisIGCoreHeartPanoOutlineIcon"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:b,shadow:m,size:a})},g)}),i!=null&&i>0?k.jsx(c("IGDSBox.react"),{alignItems:"center",marginTop:2,children:k.jsx(c("BaseButton.react"),{onClick:n,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"semibold",children:k.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:i})})})}):null]})}m.displayName=m.name+" [from "+f.id+"]";var n=h!==void 0?h:h=b("PolarisLikeButtonLikeMutation.graphql"),o=i!==void 0?i:i=b("PolarisLikeButtonUnlikeMutation.graphql"),p=j!==void 0?j:j=b("PolarisLikeButton_comment.graphql");function a(a){var b=a.color,e=a.isLarge,f=a.padding,g=a.xstyle,h=a.shadow,i=a.likeCount,j=a.onLikeCountClick,l=a.queryReference;a=a.size;var q=d("CometRelay").useMutation(n),r=q[0];q=d("CometRelay").useMutation(o);var s=q[0];q=d("CometRelay").useFragment(p,l);var t=q.has_liked_comment||!1,u=q.pk;l=function(a){a.preventDefault();if(t===!0){a=function(a){var b="XDTCommentDict:"+(u||"");a=a.get(b);a==null?void 0:a.setValue(!1,"has_liked_comment");b=a==null?void 0:a.getValue("comment_like_count");b!=null&&(a==null?void 0:a.setValue(Number(b)-1,"comment_like_count"))};s({variables:{comment_id:u},optimisticUpdater:a,updater:a})}else{a=function(a){var b="XDTCommentDict:"+(u||"");a=a.get(b);a==null?void 0:a.setValue(!0,"has_liked_comment");b=a==null?void 0:a.getValue("comment_like_count");b!=null&&(a==null?void 0:a.setValue(Number(b)+1,"comment_like_count"))};r({variables:{comment_id:u},optimisticUpdater:a,updater:a})}};return k.jsx("span",{className:c("stylex")(g),children:e?k.jsx(m,{color:b,handleClick:l,isLiked:t,likeChangeCount:0,likeCount:i,onLikeCountClick:j,padding:(q=f)!=null?q:8,shadow:h,size:(g=a)!=null?g:24}):k.jsx("div",{className:"xjbqb8w x76ihet xwmqs3e x112ta8 xxxdfa6 x1ypdohk x15bjb6t x1a2a7pz xexx8yu x4uap5 x18d9i69 xkhd6sd",children:k.jsx(m,{color:b,handleClick:l,isLiked:t,likeChangeCount:0,likeCount:i,onLikeCountClick:j,padding:(e=f)!=null?e:0,shadow:h,size:(q=a)!=null?q:12})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentAvatar.react",["IGDSConstants","PolarisPostCommentAvatar_comment.graphql","PolarisUserAvatar.react","PolarisUserHoverCard.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisPostCommentAvatar_comment.graphql");function a(a){a=a.comment;a=d("RelayHooks").useFragment(j,a);var b=a.user;if(!b)return null;a=a.restricted_status===1;return i.jsx("div",{className:""+(a?" xbyyjgo":""),children:i.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:!b.is_unpublished,triggerAnalyticsContext:"post_commenter_avatar",userId:b.pk,children:i.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:(a=b.profile_pic_url)!=null?a:"",size:c("IGDSConstants").AVATAR_SIZES.small,username:b.username})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCommentText.react",["IGDSBox.react","IGDSText.react","PolarisCommentText_comment.graphql","PolarisTimestamp.react","PolarisUserLinkWithHoverCard.react","PolarisgetIGFormattedText","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisCommentText_comment.graphql");function a(a){var b=a.comment,e=a.display;a=a.size;b=d("RelayHooks").useFragment(j,b);var f=b.restricted_status===1,g=function(a){return a==null||a===""?null:i.jsx(c("IGDSText.react"),{children:c("PolarisgetIGFormattedText")(a)})};return i.jsx("div",{className:""+(f?" xbyyjgo":""),children:i.jsx(c("IGDSText.react"),{display:(f=e)!=null?f:void 0,size:(e=a)!=null?e:"label",zeroMargin:!0,children:i.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",children:[i.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",children:[i.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-link",isVerified:b.user.is_verified===!0,triggerAnalyticsContext:"post_commenter",userId:b.user.pk,username:(f=b.user.username)!=null?f:""}),"\xa0",b.created_at!=null?i.jsx(c("IGDSText.react"),{color:"secondaryText",size:(e=a)!=null?e:"label",zeroMargin:!0,children:i.jsx(c("PolarisTimestamp.react"),{className:"xsgj6o6",value:Number(b.created_at)})}):null]}),g(b.text)]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInlineCommentText.react",["IGDSText.react","PolarisInlineCommentText_comment.graphql","PolarisUserLinkWithHoverCard.react","PolarisgetIGFormattedText","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisInlineCommentText_comment.graphql");function a(a){var b=a.comment,e=a.display,f=a.size;a=a.showVerifiedBadge;b=d("RelayHooks").useFragment(j,b);var g=b.restricted_status===1,h=function(a){return a==null||a===""?void 0:c("PolarisgetIGFormattedText")(a)};return i.jsx("div",{className:""+(g?" xbyyjgo":""),children:i.jsxs(c("IGDSText.react"),{display:(g=e)!=null?g:void 0,size:(e=f)!=null?e:"label",zeroMargin:!0,children:[i.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-link",isVerified:a===!0&&b.user.is_verified===!0,triggerAnalyticsContext:"post_commenter",userId:b.user.pk,username:(g=b.user.username)!=null?g:""}),"\xa0",h(b.text)]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentContent.react",["IGDSBox.react","IGDSText.react","PolarisCommentText.react","PolarisInlineCommentText.react","PolarisPostCommentContent_comment.graphql","PolarisPostStrings","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisPostCommentContent_comment.graphql");function a(a){var b=a.comment,e=a.isInlineComment,f=a.showRestrictedContent;a=a.showVerifiedBadge;b=d("RelayHooks").useFragment(j,b);var g=b.restricted_status===1,h=b.user;if(g&&!f)return i.jsx(c("IGDSBox.react"),{marginBottom:1,children:i.jsx(c("IGDSText.react").Body,{color:"tertiaryText",weight:"semibold",children:d("PolarisPostStrings").RESTRICTED_ACCOUNT_HEADER_TEXT})});else if(h&&!h.is_unpublished)return e?i.jsx(c("PolarisInlineCommentText.react"),{comment:b,display:"inline",showVerifiedBadge:a,size:"body"}):i.jsx(c("PolarisCommentText.react"),{comment:b,display:"inline",size:"body"});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentOptionsButton.react",["PolarisIGCoreBox","PolarisIGCoreMoreHorizontalPanoOutlineIcon","PolarisIGCoreSVGIconButton","PolarisPostStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.onClick;return h.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:a,children:h.jsx(c("PolarisIGCoreBox"),{alignItems:"center",height:24,justifyContent:"center",width:24,children:h.jsx(c("PolarisIGCoreMoreHorizontalPanoOutlineIcon"),{alt:d("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisApproveRestrictedComment",["CometRelay","react","usePolarisApproveRestrictedCommentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("usePolarisApproveRestrictedCommentMutation.graphql");function a(a){var b=d("CometRelay").useMutation(j),c=b[0];return i(function(){var b=function(b){b=b.get("XDTCommentDict:"+a);b==null?void 0:b.setValue(0,"restricted_status")};c({variables:{comment_id:a},optimisticUpdater:b,updater:b})},[c,a])}g["default"]=a}),98);
__d("usePolarisPostDeleteComment",["CometRelay","PolarisCreationConstants","react","useIGDSToaster","usePolarisPostDeleteCommentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("usePolarisPostDeleteCommentMutation.graphql");function a(a,b){var e=d("CometRelay").useMutation(j),f=e[0];e=c("useIGDSToaster")();var g=e.add,h=e.clear;return i(function(){var c=function(c){var e="XDTCommentDict:"+a;c=c.getRoot();c=d("CometRelay").ConnectionHandler.getConnection(c,"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:b});c!=null?d("CometRelay").ConnectionHandler.deleteNode(c,e):g({message:"Could not delete comment"},{duration:d("PolarisCreationConstants").TOAST_TIMEOUT,onAfterHide:h()})};f({variables:{comment_id:a,media_id:b},optimisticUpdater:c,updater:c})},[a,b,f,g,h])}g["default"]=a}),98);
__d("PolarisPostComment.next",["BaseButton.react","CometRelay","IGDSBox.react","IGDSDialogPlaceholder.react","IGDSText.react","JSResourceForInteraction","PolarisAsyncCommentLikedByListContainer","PolarisBigNumber.react","PolarisCommentLikeListsActions","PolarisEngagementLogger","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisInteractionsLogger","PolarisLikeButton.next","PolarisLikedByListVariant","PolarisPendingCommentActions","PolarisPostChildComments.next","PolarisPostCommentAvatar.react","PolarisPostCommentContent.react","PolarisPostCommentOptionsButton.react","PolarisPostComment_comment.graphql","PolarisPostDetailsSectionProvider.react","PolarisPostStrings","PolarisReactRedux","PolarisViewpointReact.react","PolarisuserSelectors","react","useIGDSLazyDialog","usePolarisApproveRestrictedComment","usePolarisPostDeleteComment","usePolarisSelector","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useState,m=h!==void 0?h:h=b("PolarisPostComment_comment.graphql"),n={likeButton:{paddingBottom:"xjkvuk6",$$css:!0},avatar:{marginEnd:"x1emribx",$$css:!0},replyButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",marginEnd:"xqmxbcd",$$css:!0},childCommentsContainer:{marginStart:"x540dpk",$$css:!0}},o=c("JSResourceForInteraction")("PolarisApproveCommentDialog.next").__setRef("PolarisPostComment.next"),p=c("JSResourceForInteraction")("PolarisDeleteCommentModal.next").__setRef("PolarisPostComment.next"),q=c("JSResourceForInteraction")("PolarisPostCommentOptions.next").__setRef("PolarisPostComment.next");function a(a){var b=a.queryReference,e=a.mediaId,f=a.mediaOwnerId,g=d("CometRelay").useFragment(m,b);a=l(!1);b=a[0];var h=a[1];a=l(!1);var s=a[0],t=a[1],u=d("PolarisReactRedux").useDispatch(),v=g.parent_comment_id!=null;a=g.child_comment_count!=null&&g.child_comment_count!==0;a=!v&&a;var w=function(){h(!0)},x=g.restricted_status===1,y=l(!1),z=y[0],A=y[1];y=l(!1);var B=y[0],C=y[1],D=x&&!z,E=x&&z,F=g.parent_comment_id!=null?g.parent_comment_id:g.pk,G=c("usePolarisSelector")(d("PolarisuserSelectors").getViewer),H=d("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),I=c("usePolarisPostDeleteComment")(g.pk,e);y=c("useIGDSLazyDialog")(o,function(){return i.jsx(c("IGDSDialogPlaceholder.react"),{size:"default"})});var J=y[0];y[1];y=c("useIGDSLazyDialog")(p,function(){return i.jsx(c("IGDSDialogPlaceholder.react"),{size:"default"})});var K=y[0];y[1];var L=c("usePolarisApproveRestrictedComment")(g.pk),M=j(function(){var a;a=(a=g.user)==null?void 0:a.username;a!=null&&J({commentId:g.pk,commentThreadId:F,commentOwnerId:g.user.pk,commentOwnerUsername:a,onApproveComment:L,mediaId:e})},[J,g.pk,g.user.pk,e,g.user.username,F,L]),N=j(function(){K({analyticsContext:H,onDelete:I})},[K,H,I]),O=function(){c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:g.user.pk,commentId:g.pk,commentThreadId:F,parentMediaId:e,step:"pending_comment_see_hidden"}),A(!0)},P=function(){c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:g.user.pk,commentId:g.pk,commentThreadId:F,parentMediaId:e,step:"pending_comment_approve"}),M()};y=c("useIGDSLazyDialog")(q,function(){return i.jsx(c("IGDSDialogPlaceholder.react"),{size:"default"})});var Q=y[0];y[1];var R=j(function(){var a;if(g.user!=null&&((a=g.user)==null?void 0:a.profile_pic_url)!=null){Q({commentId:g.pk,commentOwnerId:(a=g.user)==null?void 0:a.pk,commentOwnerUsername:(a=g.user)==null?void 0:a.username,profilePicUrl:(a=g.user)==null?void 0:a.profile_pic_url,onDelete:I,mediaOwnerId:f,canDeleteComment:(G==null?void 0:G.id)===((a=g.user)==null?void 0:a.pk)});a={id:g.user.pk,username:g.user.username,fullName:g.user.full_name};u({type:"USER_INFO_LOADED",user:a})}},[g.user,g.pk,u,Q,I,f,G==null?void 0:G.id]),S=function(){var a=v?g.parent_comment_id:null;u(d("PolarisPendingCommentActions").changePendingComment(e,"@"+(g.user.username||"")+" ",g.pk,g.user.pk,g.user.username,a))},T=function(){c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:g.user.pk,commentId:g.pk,commentThreadId:F,parentMediaId:e,step:z?"pending_comment_delete":"pending_comment_delete_hidden"}),N()},U=c("usePrevious")(g.child_comment_count);k(function(){U!=null&&g.child_comment_count===U+1&&s===!1&&t(!0)},[g.child_comment_count,U,s]);y=j(function(a){switch(a.state){case"entered":d("PolarisEngagementLogger").logCommentImpression({commentId:g.pk,commentAuthorId:g.user.pk,commentThreadId:F,containerModule:H,isCovered:g.is_covered===!0,mediaId:e,mediaAuthorId:f,mediaType:d("PolarisInteractionsLogger").MEDIA_TYPE.VIDEO});x&&c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:g.user.pk,commentId:g.pk,commentThreadId:F,parentMediaId:e,step:"pending_comment"});return}},[H,g.is_covered,g.pk,g.user.pk,F,x,e,f]);return i.jsxs(i.Fragment,{children:[g.pk!=null&&b===!0?i.jsx(r,{commentId:g.pk,onClose:function(){return h(!1)}}):null,i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:y,id:"comment_viewpoint_"+g.pk,children:function(a){return i.jsx("div",{onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)},ref:a,children:i.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",paddingY:3,children:[i.jsx("div",{className:"x1emribx",children:i.jsx(c("PolarisPostCommentAvatar.react"),{comment:g})}),i.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",flex:"grow",children:[i.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",flex:"grow",children:[i.jsx(c("PolarisPostCommentContent.react"),{comment:g,isInlineComment:!1,showRestrictedContent:z,showVerifiedBadge:!0}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:16,marginTop:2,children:[!x&&i.jsx(c("BaseButton.react"),{onClick:S,xstyle:n.replyButton,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",children:d("PolarisPostStrings").REPLY_TEXT})}),!x&&(G==null?void 0:G.id)!=null&&B&&i.jsx(c("PolarisPostCommentOptionsButton.react"),{onClick:R}),D&&i.jsx(c("BaseButton.react"),{onClick:O,xstyle:n.replyButton,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",children:d("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT})}),E&&i.jsx(c("BaseButton.react"),{onClick:P,xstyle:n.replyButton,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",children:d("PolarisPostStrings").APPROVE_COMMENT_CTA})}),x&&i.jsx(c("BaseButton.react"),{onClick:T,xstyle:n.replyButton,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",children:d("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT})})]})]}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:[i.jsx(c("PolarisLikeButton.next"),{color:"ig-secondary-icon",isLarge:!1,queryReference:g,size:16,xstyle:n.likeButton}),g.comment_like_count!=null&&g.comment_like_count>0?i.jsx(c("BaseButton.react"),{onClick:w,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"medium",zeroMargin:!0,children:i.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:(a=g.comment_like_count)!=null?a:0})})}):null]})]})]})})}}),a?i.jsx(c("IGDSBox.react"),{xstyle:n.childCommentsContainer,children:i.jsx(c("PolarisPostChildComments.next"),{mediaId:e,mediaOwnerId:f,parentCommentQueryRef:g,setShowReplies:t,showReplies:s})}):null]})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.commentId;a=a.onClose;var e=d("PolarisReactRedux").useDispatch();k(function(){e(d("PolarisCommentLikeListsActions").requestCommentLikes(b))},[e,b]);return i.jsx(c("PolarisAsyncCommentLikedByListContainer"),{commentId:b,display:c("PolarisLikedByListVariant").Modal,onClose:a})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostAllComments.react",["BaseButton.react","CometRelay","IGDSBox.react","IGDSSpinner.react","IGDSText.react","PolarisGenericStrings","PolarisPostAllCommentsFragment_items_connection.graphql","PolarisPostComment.next","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisPostAllCommentsFragment_items_connection.graphql");function a(a){var b=d("CometRelay").usePaginationFragment(j,a.paginationQuery),e=b.data,f=b.loadNext,g=b.isLoadingNext;b=b.hasNext;var h=function(){f(10)};return i.jsxs("div",{className:c("stylex")(a.xStyle),children:[(e=e.xdt_api__v1__media__media_id__comments__connection.edges)==null?void 0:e.map(function(b){b=b.node;return i.jsx(c("PolarisPostComment.next"),{mediaId:a.mediaId,mediaOwnerId:a.mediaOwnerId,queryReference:b},b.pk)}),g?i.jsx(c("IGDSBox.react"),{alignItems:"center",height:"42px",marginBottom:3,marginTop:3,children:i.jsx(c("IGDSSpinner.react"),{})}):null,b&&!g?i.jsx(c("IGDSBox.react"),{alignItems:"start",height:"42px",marginBottom:4,marginTop:4,children:i.jsx(c("BaseButton.react"),{onClick:h,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",children:d("PolarisGenericStrings").VIEW_MORE_COMMENTS_TEXT})})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostCommentsContainer.react",["PolarisPostAllComments.react","PolarisPostCommentsContainerQuery.graphql","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisPostCommentsContainerQuery.graphql");function a(a){var b=a.mediaId,e=a.ownerId;a=a.xStyle;var f=d("RelayHooks").useLazyLoadQuery(j,{media_id:b});return i.jsx(c("PolarisPostAllComments.react"),{mediaId:b,mediaOwnerId:e,paginationQuery:f,xStyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsDesktopCommentsDialog.react",["CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSDialog.react","IGDSDialogHeader.react","IGDSText.react","PolarisGenericStrings","PolarisPendingCommentActions","PolarisPostCommentInputReplyingToBar.react","PolarisPostCommentInputRevamped.react","PolarisPostCommentsContainer.react","PolarisPostCommentsContainerPlaceholder.react","PolarisPostDetailsSectionProvider.react","PolarisReactRedux","XIGRelayEnvironment","react","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={innerContent:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",width:"xvr7zsw",maxWidth:"x193iq5w",$$css:!0},commentContainer:{width:"xh8yej3",maxWidth:"x193iq5w",paddingTop:"x1p5oq8j",$$css:!0},footer:{flexBasis:"x1ho3rtd",display:"x78zum5",flexShrink:"x2lah0s",paddingTop:"x9orja2",paddingEnd:"xqmdsaz",paddingBottom:"xbaz6xv",paddingStart:"x1xfsgkm",boxSizing:"x9f619",$$css:!0}};function a(a){var b=a.onClose,e=a.mediaId,f=a.adInfo,g=a.isVideo,j=a.ownerId;a=a.commentsDisabled;var k=c("usePolarisViewer")(),l=d("PolarisReactRedux").useDispatch(),m=c("usePolarisSelector")(function(a){return(a=a.pendingComments.get(e))==null?void 0:a.repliedToUsername}),n=function(){l(d("PolarisPendingCommentActions").clearPendingComment(e))};return h.jsx(d("PolarisPostDetailsSectionProvider.react").PolarisPostDetailsSectionProvider,{value:"PostClipsChainingPage",children:h.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:c("XIGRelayEnvironment"),children:h.jsxs(c("IGDSDialog.react"),{fixedHeight:!0,fixedWidth:!0,innerContentXStyle:i.innerContent,onClose:b,size:"extraLarge",children:[h.jsx(c("IGDSDialogHeader.react"),{onClose:b,children:d("PolarisGenericStrings").COMMENTS_TEXT}),h.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"auto",paddingX:8,children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("PolarisPostCommentsContainerPlaceholder.react"),{xStyle:i.commentContainer}),children:h.jsx(c("PolarisPostCommentsContainer.react"),{mediaId:e,ownerId:j,xStyle:i.commentContainer})})}),m!=null?h.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{onClearReply:n,username:m}):null,h.jsx("div",{className:"x1ho3rtd x78zum5 x2lah0s x9orja2 xqmdsaz xbaz6xv x1xfsgkm x9f619",children:a?h.jsx(c("IGDSBox.react"),{alignItems:"center",width:"100%",children:h.jsx(c("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})}):h.jsx(c("PolarisPostCommentInputRevamped.react"),{adInfo:f,isLoggedIn:!0,isSidecar:!1,isVideo:g,ownerID:j,postID:e,viewerProfilePicture:k==null?void 0:k.profilePictureUrl})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTaggedPostsActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;f.PAGE_SIZE=a}),66);
__d("PolarisAPIGetPendingTaggedPosts",["PolarisInstapi","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiGet("/api/v1/usertags/{user_id}/pending_review/",{path:{user_id:a}}));case 2:c=e.sent;return e.abrupt("return",c.data);case 4:case"end":return e.stop()}},null,this)}g.getPendingTaggedPosts=a}),98);
__d("PolarisAPIGetTaggedPosts",["PolarisInstapi","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f={};e!=null&&(f.count=e);c!=null&&(f.max_id=c);h.next=5;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiGet("/api/v1/usertags/{user_id}/feed/",{path:{user_id:a},query:f}));case 5:g=h.sent;return h.abrupt("return",g.data);case 7:case"end":return h.stop()}},null,this)}g.getTaggedPosts=a}),98);
__d("PolarisAPIReviewPhotosOfYou",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a===void 0&&(a="");b===void 0&&(b="");a={approve:a,remove:b};return d("PolarisInstapi").apiPost("/api/v1/web/usertags/review_web/",{body:a})}g.reviewPhotosOfYou=a}),98);
__d("PolarisAPIReviewPhotosOfYouNative",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a===void 0&&(a="");b===void 0&&(b="");a={approve:a,remove:b};return d("PolarisInstapi").apiPost("/api/v1/usertags/review/",{body:a})}g.reviewPhotosOfYouNative=a}),98);
__d("PolarisAPIUntagFromTaggedMedia",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a={media:a};return d("PolarisInstapi").apiPost("/api/v1/web/usertags/untag_web/",{body:a})}g.untagFromTaggedMedia=a}),98);
__d("PolarisAPIUntagFromTaggedMediaNative",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/usertags/{media_id}/remove/",{path:{media_id:a}})}function b(a){a===void 0&&(a=[]);return d("PolarisInstapi").apiPost("/api/v1/usertags/remove/",{body:{media_to_untag:a}},{options:{dataType:"json"}}).then(function(a){return a.data})}g.untagFromTaggedMediaNative=a;g.untagFromTaggedMediaNativeBulk=b}),98);
__d("PolarisTaggedPostsActions",["fbt","PolarisAPIGetPendingTaggedPosts","PolarisAPIGetTaggedPosts","PolarisAPIReviewPhotosOfYou","PolarisAPIReviewPhotosOfYouNative","PolarisAPIUntagFromTaggedMedia","PolarisAPIUntagFromTaggedMediaNative","PolarisGenericStrings","PolarisLogger","PolarisPaginationUtils","PolarisPostModel","PolarisProfilePostsModel","PolarisTaggedPostsActionConstants","PolarisnormalizeMediaDicts","PolaristransformProfilePostsEntities","immutable-4.0.0-rc.9","nullthrows","regeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=0,j="be13233562af2d229b008d2976b998b5",k=h._("We're sorry, but something went wrong. Please try again"),l=d("PolarisPaginationUtils").generatePaginationActionCreators({pageSize:d("PolarisTaggedPostsActionConstants").PAGE_SIZE,pagesToPreload:i,getState:function(a,b){return(a=a.taggedPosts.byUserId.get(b))==null?void 0:a.pagination},queryId:j,queryParams:function(a){return{id:a}},onUpdate:function(a,b,e){var f=[],g,h={postIds:d("immutable-4.0.0-rc.9").OrderedSet([])};if(b){var i,j=c("nullthrows")(b.user);f=(((i=j.edge_user_to_photos_of_you)==null?void 0:i.edges)||[]).map(function(a){return c("PolarisPostModel").fromGraphResponse(a.node).toReduxStore()});g=(i=j.edge_user_to_photos_of_you)==null?void 0:i.page_info;h=c("PolarisProfilePostsModel").fromGraphResponse(b).toReduxStore()}return{data:h,fetch:a,pageInfo:g,posts:f,type:"TAGGED_POSTS_UPDATED",userId:e}},onError:function(a,b,c,e){return{type:"TAGGED_POSTS_ERRORED",err:a,fetch:b,userId:c,toast:{text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:e}}}});function m(a){return function(b){var c=function(){return b(m(a))};return b(l.first(a,c))}}function n(a){return function(b){var c=function(){return b(n(a))};return b(l.next(a,c))}}function o(a){return function(e){var f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:l.prev=0;l.next=3;return b("regeneratorRuntime").awrap(d("PolarisAPIGetTaggedPosts").getTaggedPosts(a,null,d("PolarisTaggedPostsActionConstants").PAGE_SIZE));case 3:f=l.sent;g=c("PolarisProfilePostsModel").fromNativeResponse(f).toReduxStore();h=d("PolarisnormalizeMediaDicts").normalizeMediaDicts(f.items).entities;i=c("PolaristransformProfilePostsEntities")(h),j=i.posts;return l.abrupt("return",e({data:g,posts:j,type:"TAGGED_POSTS_UPDATED_FROM_NATIVE",userId:a}));case 10:l.prev=10;l.t0=l["catch"](0);k=function(){return e(o(a))};return l.abrupt("return",e({type:"TAGGED_POSTS_ERRORED",err:l.t0,userId:a,toast:{text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:k}}));case 14:case"end":return l.stop()}},null,this,[[0,10]])}}function p(a){return function(e){var f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:l.prev=0;l.next=3;return b("regeneratorRuntime").awrap(d("PolarisAPIGetPendingTaggedPosts").getPendingTaggedPosts(a));case 3:f=l.sent;g=c("PolarisProfilePostsModel").fromNativeResponse(f).toReduxStore();h=d("PolarisnormalizeMediaDicts").normalizeMediaDicts(f.items).entities;i=c("PolaristransformProfilePostsEntities")(h),j=i.posts;return l.abrupt("return",e({data:g,posts:j,type:"PENDING_TAGGED_POSTS_UPDATED_FROM_NATIVE",userId:a}));case 10:l.prev=10;l.t0=l["catch"](0);k=function(){return e(p(a))};return l.abrupt("return",e({type:"TAGGED_POSTS_ERRORED",err:l.t0,userId:a,toast:{text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:k}}));case 14:case"end":return l.stop()}},null,this,[[0,10]])}}function q(a,b){return function(c){c({type:"DELETE_TAG_REQUESTED",userId:b,postId:a});return d("PolarisAPIUntagFromTaggedMedia").untagFromTaggedMedia(a).then(function(){c({type:"DELETE_TAG_SUCCEEDED",postId:a,userId:b})},function(){c(r(a,b))})}}function a(a,b){return function(c){d("PolarisLogger").logAction("deleteTagAttempt");c({type:"DELETE_TAG_REQUESTED",userId:b,postId:a});return d("PolarisAPIUntagFromTaggedMediaNative").untagFromTaggedMediaNative(a).then(function(){d("PolarisLogger").logAction("deleteTagSuccess"),c({type:"DELETE_TAG_SUCCEEDED",postId:a,userId:b})},function(){d("PolarisLogger").logAction("deleteTagFailure"),c(r(a,b))})}}function e(a,b){return function(c){c({type:"DELETE_TAG_BULK_REQUESTED",userId:b,postIds:a});return d("PolarisAPIUntagFromTaggedMediaNative").untagFromTaggedMediaNativeBulk(a).then(function(){a.forEach(function(a){c({type:"DELETE_TAG_SUCCEEDED",postId:a,userId:b})})},function(){a.forEach(function(a){c(r(a,b))})})}}function r(a,b){return function(c){c({type:"DELETE_TAG_FAILED",userId:b,postId:a,toast:{text:k,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:function(){return c(q(a,b))}}})}}function s(a,b,c){b===void 0&&(b="");c===void 0&&(c="");return function(e){e({type:"UPDATE_PHOTO_OF_YOU_REQUESTED",userId:a,approve:b,remove:c});return d("PolarisAPIReviewPhotosOfYou").reviewPhotosOfYou(b,c).then(function(){e({type:"UPDATE_PHOTO_OF_YOU_SUCCEEDED",userId:a,approve:b,remove:c})},function(){e(t(a,b,c))})}}function f(a,b,c){b===void 0&&(b="");c===void 0&&(c="");return function(e){d("PolarisLogger").logAction("updatePhotoOfYouAttempt");e({type:"UPDATE_PHOTO_OF_YOU_REQUESTED",userId:a,approve:b,remove:c});return d("PolarisAPIReviewPhotosOfYouNative").reviewPhotosOfYouNative(b,c).then(function(){d("PolarisLogger").logAction("updatePhotoOfYouSuccess"),e({type:"UPDATE_PHOTO_OF_YOU_SUCCEEDED",userId:a,approve:b,remove:c})},function(){d("PolarisLogger").logAction("updatePhotoOfYouFailure"),e(t(a,b,c))})}}function t(a,b,c){b===void 0&&(b="");c===void 0&&(c="");return function(e){e({type:"UPDATE_PHOTO_OF_YOU_FAILED",userId:a,approve:b,remove:c,toast:{text:k,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:function(){return e(s(a,b,c))}}})}}g.requestTaggedPosts=m;g.requestNextTaggedPosts=n;g.requestTaggedPostsFromNative=o;g.requestPendingTaggedPostsFromNative=p;g.deleteTag=q;g.deleteTagFromNative=a;g.deleteTagFromNativeBulk=e;g.updatePhotoOfYou=s;g.updatePhotoOfYouFromNative=f}),98);
__d("PolarisEmbedModal.react",["fbt","invariant","FastLink","IGCoreDialog","PolarisClipboard","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreSpinner","PolarisIGCoreText","PolarisInstapi","PolarisLogger","PolarisUA","PolarisgetPostFromGraphMediaInterface","err","promiseDone","react","usePrevious"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState,o=h._("Copy embed code"),p=h._("Embed code copied"),q=h._("Select embed code");function a(a){var b=a.analyticsContext,e=a.code,f=a.id,g=a.onClose,r=a.ownerId,s=a.productType,t=a.username;a=n({});var u=a[0],v=a[1];a=n(null);var w=a[0],x=a[1];a=n(!1);var y=a[0],z=a[1];a=n("");var A=a[0],B=a[1];a=n(!1);var C=a[0],D=a[1];a=n(s!=="guide"&&s!=="profile");var E=a[0],F=a[1];a=n(!1);var G=a[0],H=a[1];a=n(!1);var I=a[0],J=a[1];a=n(!1);var K=a[0],L=a[1],M=m(null),N=c("usePrevious")({includeCaption:E,code:e}),O=k(function(){var a;if(s==="profile"&&t!=null)a=t;else if(s==="guide"&&f!=null)a="guide/"+f;else if(e!=null)a=(d("PolarisgetPostFromGraphMediaInterface").isClipsProductType(s)?"reel/":d("PolarisgetPostFromGraphMediaInterface").isIGTVProductType(s)?"tv/":"p/")+e;else throw c("err")("EmbedModal missing username, guide ID or shortcode.");return{url:"https://www.instagram.com/"+a,hidecaption:E?"0":"1",maxwidth:"540"}},[e,f,E,s,t]),P=k(function(){var a,b=O(),e=(a=JSON.stringify(b))!=null?a:"";a=u[e];a!==void 0?B(a):(D(!0),c("promiseDone")(d("PolarisInstapi").apiGet("/api/v1/oembed/",{query:b}).then(function(a){a=a.data.html;var b=babelHelpers["extends"]({},u);b[e]=a;v(b);B(a);D(!1)})))},[u,O]);l(function(){P()},[P]);l(function(){return function(){window.clearTimeout(w)}},[w]);l(function(){(N==null||N.includeCaption!==E||N.code!==e)&&P()},[e,P,E,N]);a=function(){if(d("PolarisClipboard").canCopy()||d("PolarisUA").isMobile())return null;else if(navigator.userAgent.indexOf("Macintosh")||navigator.userAgent.indexOf("Mac OS"))return h._("Press Command-C to copy.");return h._("Press Control-C to copy.")};var Q=function(){return d("PolarisClipboard").canCopy()&&!y},R=function(){M.current||i(0,51626);(M.current.selectionStart!==0||M.current.selectionEnd<M.current.value.length)&&M.current.setSelectionRange(0,M.current.value.length,"forward");if(document.activeElement!==M.current){var a;(a=M.current)==null?void 0:a.focus()}},S=function(){var a={mediaId:f,ownerId:r,source:b,type:s==="guide"?"guide":"feed"},c=d("PolarisClipboard").copy(A);c?(d("PolarisLogger").logAction("embedCodeCopy",a),H(!0),x(window.setTimeout(function(){H(!1),x(null)},3e3))):(d("PolarisLogger").logAction("embedCodeFailToCopy",a),R(),z(!0))},T=function(){J(!1)},U=function(){J(!0),R()},V=function(a){a=a.target;a instanceof HTMLTextAreaElement||i(0,51626);L(a.selectionStart===0&&a.selectionEnd>=a.value.length)},W=function(){R()},X=function(a){F(!!a.target.checked)},Y=C?"":A,Z=h._("API Terms of Use");S=Q()?S:W;W="";a=a();Q()?G?W=p:W=o:K&&I&&a!=null&&a!==""?W=a:W=q;return j.jsx(d("IGCoreDialog").IGCoreDialog,{onModalClose:g,children:j.jsxs(c("PolarisIGCoreBox"),{padding:4,children:[j.jsx("textarea",{className:"x1619dve xx7zo7k x1fzb3qy xb0nk2e xubunj8 x5n08af x1i0vuye x1f6kntn xqemwdq xdj266r x11i5rnm xwoyzhm x1mh8g0r xu97haq xtt52l0 xuxw1ft",disabled:C,onBlur:T,onFocus:U,onSelect:V,readOnly:!0,ref:M,value:Y}),["guide","profile"].includes(s)||j.jsxs("label",{className:"x6umtig x1b1mbwd xaqea5y xav7gou xk390pu xdj266r x11i5rnm xwoyzhm x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf",htmlFor:f!=null?f:void 0,children:[j.jsx("input",{checked:E,className:"x1mh8g0r x1t4t16n",id:f!=null?f:void 0,onChange:X,type:"checkbox"}),h._("Include caption"),C&&j.jsx("div",{className:"x1rg5ohu xdj266r x1t4t16n xat24cr x8j4wrb x1uhb9sk xxymvpz",children:j.jsx(c("PolarisIGCoreSpinner"),{size:"small"})})]}),j.jsx(c("PolarisIGCoreBox"),{marginBottom:2,children:j.jsx(c("PolarisIGCoreButton"),{disabled:C,onClick:S,children:W})}),j.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",children:h._("By using this embed, you agree to Instagram's {apiTermsOfUseLink} .",[h._param("apiTermsOfUseLink",j.jsx(c("FastLink"),{href:"/about/legal/terms/api/",target:"_blank",children:Z}))])})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);